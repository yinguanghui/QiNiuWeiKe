<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  user-scalable=0;" name="viewport" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>文章列表</title>
<link rel="stylesheet" href="css/pullToRefresh2.css"/>
<link rel="stylesheet" href="css/frozen.css"/>
<link rel="stylesheet" type="text/css" href="css/style.css">
<script src="js/iscroll.js"></script>
<script src="js/pullToRefresh.js"></script>
</head>
<body>
<header class="ui-header ui-header-position ui-border-b items-header">
        <div class="Relative">
            <i style='background:rgb(49,50,103);color:#9697B6;' class="ui-icon-return" onclick="history.go(-1)
"></i><h1>文章列表</h1>
            <div class="home"><a href="index.html"><i class='ui-icon-home' style='background:rgb(49,50,103);color:#9697B6;'></i></a></div>
        </div>
</header>
 <section class='ui-container'> 
<!--must content ul li,or shoupi-->
<div id="wrapper">
  <ul class="ui-list-link ui-list">
    <li>
        <a href="#"><img src="img/hongzao.png"></a>
        <div>
            <h3>女人的尺度，送给所有女同胞！</h3>
            <p>推荐<img src="img/star.png"><img src="img/star.png"><img src="img/star.png"></p>
            <p>分享佣金：<span>￥0.1</span></p>
            <h4>分享后浏览：<span>￥0.1</span></h4>
        </div>
    </li>
    
  </ul>
</div>
</section>
<script>
refresher.init({
    id:"wrapper",//<------------------------------------------------------------------------------------┐
    pullDownAction:Refresh,                                                            
    pullUpAction:Load                                                                           
    });                                                                                                                                                         
function Refresh() {                                                                
    setTimeout(function () {    // <-- Simulate network congestion, remove setTimeout from production!
        var el, li, i;                                                                      
        el =document.querySelector("#wrapper ul");                  
        //这里写你的刷新代码             
        document.getElementById("wrapper").querySelector(".pullDownIcon").style.display="none";     
        document.getElementById("wrapper").querySelector(".pullDownLabel").innerHTML="<img src='css/ok.png'/>刷新成功";                                                                                  
        setTimeout(function () {
            wrapper.refresh();
            document.getElementById("wrapper").querySelector(".pullDownLabel").innerHTML="";                                
            },1200);//模拟qq下拉刷新显示成功效果
        /****remember to refresh after  action completed！ ---yourId.refresh(); ----| ****/
    }, 1400);
}
var num = 0
function Load() {
    num ++;
    setTimeout(function () {// <-- Simulate network congestion, remove setTimeout from production!
        var el, li, i;
        el =document.querySelector("#wrapper ul");
        for (i=(num-1)*3; i<num*3; i++) {
            li = document.createElement('li');

            var str = '<a href="'+jsonlist[i].asrc+'"><img src="'+jsonlist[i].imgsrc+'"></a><div><h3>'+jsonlist[i].name+'</h3><p>推荐<img src="img/star.png"><img src="img/star.png"><img src="img/star.png"></p><p>分享佣金：<span>￥'+jsonlist[i].price+'</span></p><h4>分享后浏览：<span>'+jsonlist[i].sales+'</span>元</h4></div>';

            li.innerHTML=str;
            el.appendChild(li, el.childNodes[0]);
        }
        wrapper.refresh();/****remember to refresh after action completed！！！   ---id.refresh(); --- ****/
    },500);
        
}

//ajax数据
var jsonlist = [
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包1', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包2', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包3', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包4', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包5', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包6', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包7', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包8', 'price':0.1, 'sales':'0.1'},
                { 'asrc':'#','imgsrc':'img/hongzao.png','name':'我爱菠萝包9', 'price':0.1, 'sales':'0.1'},
            ];

</script>
<script src="js/jquery.min.js"></script>
</body>
</html>